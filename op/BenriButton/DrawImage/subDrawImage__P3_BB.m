function str = subDrawImage__P3_BB(hs)
str='Draw Image Tool';
if nargin<=0,return;end

%- make gui
vls      = get(hs.lbx_fileList,'Value');
datalist = get(hs.lbx_fileList,'UserData');
datalist = datalist(vls);
if length(datalist)>1 %- bug fixed TK@HARL 20110209
	datalist=datalist(1);
end
%----------------------
% Load Raw-Data
%----------------------
an=DataDef2_Analysis('load',datalist);
rd=DataDef2_RawData('loadlist',an.data.name);
[hdata, data]=DataDef2_RawData('load',rd);

h1 = figure(...
'PaperUnits',get(0,'defaultfigurePaperUnits'),...
'Color',[0.93 0.913 0.85],'Visible','on',...
'IntegerHandle','off',...
'InvertHardcopy',get(0,'defaultfigureInvertHardcopy'),...
'MenuBar','none',...
'Name','Draw Image Tool',...
'NumberTitle','off',...
'PaperPosition',get(0,'defaultfigurePaperPosition'),...
'PaperSize',[20.98404194812 29.67743169791],...
'PaperType',get(0,'defaultfigurePaperType'),...
'Position',[623.8 612.538461538461 550 126],...
'Renderer',get(0,'defaultfigureRenderer'),...
'RendererMode','manual',...
'Resize','off',...
'HandleVisibility','callback',...
'Tag','figure1',...
'UserData',[]);

h2 = uicontrol(...
'Parent',h1,...
'Units','characters',...
'BackgroundColor',[1 1 1],...
'Callback','',...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontSize',get(0,'defaultuicontrolFontSize'),...
'HorizontalAlignment','left',...
'ListboxTop',0,...
'Max',9999,...
'Position',[1.33333333333333 3.58333333333333 88.6666666666667 6.25],...
'String','',...
'Style','edit',...
'Tooltip',sprintf('Input values for drawing an image.  (ex. 0.5,0.2,-0.1,...)\nThe Number of values must be the same as the channel number.'),...
'Tag','edit1');

h3 = uicontrol(...
'Parent',h1,...
'Units','characters',...
'Callback','',...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontSize',get(0,'defaultuicontrolFontSize'),...
'ListboxTop',0,...
'Position',[49.8333333333333 0.416666666666667 40.1666666666667 2.5],...
'String','Draw image',...
'Callback','sub_subDrawImage__P3(gcbf)',...
'Tag','pushbutton1');

h4 = uicontrol(...
'Parent',h1,...
'Units','characters',...
'Callback','',...
'FontName',get(0,'defaultuicontrolFontName'),...
'FontSize',get(0,'defaultuicontrolFontSize'),...
'ListboxTop',0,...
'Position',[25.8333333333333 0.416666666666667 20.1666666666667 2.5],...
'String','clear',...
'Callback','set(findobj(gcbf,''Tag'',''edit1''),''String'','''')',...
'Tag','pushbutton2');

setappdata(h1,'data',data);
setappdata(h1,'hdata',hdata);

